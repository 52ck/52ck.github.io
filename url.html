<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自动定时重定向示例</title>
</head>
<body>
    <h1>自动定时重定向示例</h1>

    <script>
        // 定义一个包含不同网站链接的数组
        let websites = [
            "https://www.example.com",
            "https://www.google.com",
            "https://www.openai.com"
        ];

        // 初始化索引
        let currentIndex = 0;

        // 定义轮询间隔（毫秒）
        const pollingInterval = 5000; // 5秒

        // 开始轮询检查网址
        const startPolling = () => {
            setInterval(() => {
                const currentWebsite = websites[currentIndex];
                checkUrl(currentWebsite);
                currentIndex = (currentIndex + 1) % websites.length; // 循环索引
            }, pollingInterval);
        };

        // 检查网址函数
        const checkUrl = (url) => {
            fetch(url, {
                method: 'GET',
                headers: {
                    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36'
                }
            })
            .then(response => {
                if (response.ok) {
                    // 如果响应正常，进行定向跳转
                    window.location.href = url;
                } else {
                    // 如果响应不正常，从列表中移除该链接
                    websites = websites.filter(item => item !== url);
                    console.log("网址状态：不正常");
                }
            })
            .catch(error => {
                console.error("发生错误：", error);
            });
        };

        // 开始轮询
        startPolling();
    </script>
</body>
</html>
